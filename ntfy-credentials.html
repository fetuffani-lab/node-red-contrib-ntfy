<script type="text/html" data-template-name="ntfy-credentials">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-config-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-config-input-server"><i class="fa fa-server"></i> Server URL</label>
        <input type="text" id="node-config-input-server" placeholder="https://ntfy.sh">
    </div>
    <div class="form-row">
        <label for="node-config-input-username"><i class="fa fa-user"></i> Username (optional)</label>
        <input type="text" id="node-config-input-username" placeholder="Username">
    </div>
    <div class="form-row">
        <label for="node-config-input-password"><i class="fa fa-key"></i> Password (optional)</label>
        <input type="password" id="node-config-input-password">
    </div>
    <div class="form-row">
        <label for="node-config-input-accessToken"><i class="fa fa-ticket"></i> Access Token (optional)</label>
        <input type="password" id="node-config-input-accessToken">
    </div>
    <div class="form-tips">
        <b>Tip:</b> Provide Server URL (e.g. <code>https://ntfy.sh</code> or <code>http://your-server</code>).
        Authentication (Username/Password or Access Token) is optional.
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('ntfy-credentials', {
        category: 'config',
        defaults: {
            name: {value: ""},
            server: {value: "https://ntfy.sh", required: true},
            username: {value: ""}
        },
        credentials: {
            password: {type: "password"},
            accessToken: {type: "password"}
        },
        label: function() {
            return this.name || this.server || "ntfy credentials";
        }
    });
</script>

<script type="text/html" data-help-name="ntfy-credentials">
    <p>Configures a connection to an Ntfy server.</p>

    <h3>Properties</h3>
    <dl class="message-properties">
        <dt>Name</dt>
        <dd>An optional name for this configuration.</dd>
        <dt>Server URL <span class="property-type">string</span></dt>
        <dd>The base URL of your Ntfy server (e.g., <code>https://ntfy.sh</code> or <code>http://your-local-ntfy:8080</code>). Do not include a trailing slash.</dd>
        <dt>Username <span class="property-type">string</span></dt>
        <dd>Optional username for basic authentication.</dd>
        <dt>Password <span class="property-type">password</span></dt>
        <dd>Optional password for basic authentication. Required if username is provided.</dd>
        <dt>Access Token <span class="property-type">password</span></dt>
        <dd>Optional access token for bearer authentication. This will be used if provided, otherwise Username/Password will be attempted.</dd>
    </dl>
    <p>For more information about Ntfy, visit <a href="https://ntfy.sh/" target="_blank">ntfy.sh</a> and <a href="https://docs.ntfy.sh/" target="_blank">Ntfy Documentation</a>.</p>
</script>